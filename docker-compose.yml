version: '3'

services:
        nginx:
                image: nginx:latest
                container_name: nginx
                ports:
                        - "80:80"
                        - "443:443"
                volumes:
                        - ./data/nginx:/etc/nginx/conf.d
                        - ./data/certbot/conf:/etc/letsencrypt
                        - ./data/certbot/www:/var/www/certbot
                depends_on:
                        - certbot
                networks:
                        - local
        certbot:
                image: certbot/certbot
                volumes:
                        - ./data/certbot/conf:/etc/letsencrypt
                        - ./data/certbot/www:/var/www/certbot
                networks:
                        - local
        happyre:
                image: happyjellyfish/frontend-image:latest
                container_name: frontend-container
                ports:
                        - "3000:3000"
                networks:
                        - local
                       
networks:
        local:
                driver: bridge
